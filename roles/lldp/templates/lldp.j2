{# LLDP configuration template for SR Linux #}
{# SR Linux LLDP uses: admin-state, hello-timer, hold-multiplier, interface, management-address #}

{# ============================================================================ #}
{# LLDP Global Configuration                                                   #}
{# ============================================================================ #}
{% if lldp_enabled | default(true) %}
set / system lldp admin-state {{ lldp_admin_state | default('enable') }}
{% if lldp_hello_timer is defined %}
set / system lldp hello-timer {{ lldp_hello_timer }}
{% endif %}
{% if lldp_hold_multiplier is defined %}
set / system lldp hold-multiplier {{ lldp_hold_multiplier }}
{% endif %}
{% endif %}

{# ============================================================================ #}
{# LLDP Interface Configuration                                                #}
{# ============================================================================ #}
{% for intf in lldp_interfaces %}
set / system lldp interface {{ intf.name }} admin-state {{ intf.admin_state | default(lldp_default_interface_admin_state) }}
{% endfor %}

{# ============================================================================ #}
{# LLDP Disabled Interfaces                                                    #}
{# ============================================================================ #}
{% for intf in lldp_disabled_interfaces %}
set / system lldp interface {{ intf }} admin-state disable
{% endfor %}

